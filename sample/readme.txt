まず最初に・・・「メモ帳」でこのファイルを開いた人は改行がされていないでしょう・・・
UNIX用の改行コード「LF」が読めるエディタを用意してください。
「Notepad++」がオススメです。




/**** Twitterクライアントサンプル ****/

Author : CertaiN
License: Creative Commons CC0
GitHub : http://github.com/certainist
Twitter: http://twitter.com/mpyw



○前書き

このスクリプトは、PHPを全く触ったことがない人でも最低限、
Twitterクライアントを自作する楽しみを知っていただくために制作しました。
PHP習得への近道となってもらえれば本望です。



○下準備

最初に「config.php」からコンシューマーキーなどの定数を設定してください。
詳しい方法はコメント欄に記述しました。
次に「UltimateOAuth.php」の最新版をDLしてこのディレクトリに入れてください。
最後にPHPが使用可能なサーバーにこれらのファイル一式をアップロードしてください。



○使い方

「index.html」にアクセスしてリンクから認証画面に飛べます。
認証完了後はホームタイムライン(1ページ目)を読んだりツイートしたり出来ます。



○認証の流れ

【index.html】
↓　リンクをクリック
【req.php】　リクエストトークンを取得し、それを元に認証ページURLを取得
↓　Locationで遷移
【認証ページ】
↓　ユーザーが正しいスクリーンネーム(Eメールアドレス)/パスワードを入力
【認証後のページ】
↓　Refreshで遷移(GETパラメータにoauth_tokenとoauth_verifierが含まれる)
【callback.php】　oauth_tokenとoauth_verifierを使ってバリデーション、アクセストークン取得
↓　Locationで遷移
【main.php】

このサンプルスクリプトでは、UltimateOAuthオブジェクトはセッションに保存しています。



○問題点と解決策

・ホームタイムラインが1ページ目しか読めない。
　→ ページ下部にページングリンクを張る。

・URLやスクリーンネームがリンクされていない。
　→ statusに含まれるentities（リンクを張るべき対象に関するオフセット・長さなどの情報群）
　　 をもとにリンクを張る。少し難易度が高めです。
　　 これを簡単に行うためのライブラリをリポジトリ内で「TwitterText」として配布しております。
 
・ホームタイムライン以外のタイムラインも読みたい。
　→ statuses/home_timeline.json以外の目的のエンドポイントを指定すればOK。
　　 エンドポイント一覧はTwitterデベロッパサイトに記載されております。
　　 https://dev.twitter.com/docs/api/1.1
 
・毎回ログインさせるのが面倒。
　→ php.iniを編集して、セッションの有効期限を延長する。（詳しい方法はGoogle先生にｒｙ）
　　 php.iniが編集できない環境でも少し面倒ではあるが対策は可能。

・いやそんなのじゃなくてログイン専用URL的なものが欲しい
　→ セキュリティ的に問題があるのでオススメはしませんが、
　　 UltimateOAuthオブジェクトをserializeしてファイルに保存し、
　　 そのファイル名と何らかのユーザー各々専用の「簡易ログイン用キー」
　　 のようなものを紐つけすれば一応…

・PHP分かりません
　→ がんばれ（適当）



○後書き

PHP初心者の人も、このスクリプトを改造してどんどん模索していってください！